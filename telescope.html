<head>
	<meta charset="UTF-8">
	<style>
div {
	display: inline-block;
	background: white;
	margin: 0;
	padding: 0;
	font-size: 2rem;
	word-break: break-word;
}
</style>
</head>

<body>
<div>This part
	<div>This part (it's called "telescoping text")</div> 
</div> 
<div>isn't done yet.</div>

<script>
let root = document.getElementsByTagName('div')
let foo = [...root].filter((x) => x.childElementCount != 0)
				   .map((x) => {
	x.style.background = "lightgray"
	x.style.cursor = "pointer"
	x.addEventListener('click', () => {
		expand.call(x)
	})
})
hideChildrenRecursively(root[0])

function hideChildrenRecursively(element) {
	if (element.childElementCount != 0) {
		[...element.children].map((x) => {
			x.style.display = 'none'
			hideChildrenRecursively(x)
		})
	}
}

function expand() {
	this.childNodes[0].nodeValue = ''
	this.style.background = 'white'
	this.style.cursor = "default"
	
	let goo = [...this.children].map((x) => {
		x.style.display = 'inline-block'

		if (x.childElementCount == 0) {
			x.style.background = 'white'
			x.style.cursor = "default"
		}
	})
}
</script>
</body>