<head>
	<meta charset="UTF-8">
	<style>
div {
	display: inline-block;
	background: gray;
	margin: 0;
	padding: 0;
}
</style>
</head>


<body>
	some text <div>yes <div>no</div> <div> yes <div>expand</div></div></div>

<script>
let root = document.getElementsByTagName('div')
let foo = [...root].map((x) => {
	x.addEventListener('click', () => {expand.call(x)})
})
hideChildrenRecursively(root[0])

function hideChildrenRecursively(element) {
	if (element.childElementCount != 0) {
		[...element.children].map((x) => {
			x.style.display = 'none'
			hideChildrenRecursively(x)
		})
	}
}

function expand() {
	this.childNodes[0].nodeValue = ''
	this.style.background = 'white'
	let goo = [...this.children].map((x) => {
		x.style.display = 'inline-block'

		if (x.childElementCount == 0) {
			x.style.background = 'white'
		}
	})
}
</script>
</body>

