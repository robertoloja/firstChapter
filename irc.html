<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="css/98.css">
	<link rel="stylesheet" href="css/irc.css">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta charset="UTF-8">
<script src="js/Message.js"></script>
	<script>
const messages = [
	{author: "MS", text: "message text"},
	{author: "JS", text: "some more"},
	{author: "WH", text: "another message, longer this time"},
	{author: "MS", text: "this one is going to be even longer, actually, just to see"},
	{author: "server", text: "foo"},
	{author: "MS", text: "finally another very long message, longer than the ones that came before it"}
]


function minimizeWindow() {
	let windows = document.getElementsByClassName("window")
	let mainWindow = [...windows].filter((x) => x.id != 'other-channel')[0]

	mainWindow.lastElementChild.hidden = !mainWindow.lastElementChild.hidden
	mainWindow.style.width = (mainWindow.style.width ? '' : '15rem')
	mainWindow.style.position = (mainWindow.style.position ? '' : 'absolute')
	mainWindow.style.bottom = "1rem"

	let otherButton = document.getElementById((this.id == 'min' ? 'max' : 'min'))
	this.classList.remove("click")
	otherButton.classList.add("click")
}
	</script>
</head>
<body onload="(() => {for (message of messages) new IrcMessage(message)})()">
<div class="window">
	<div class="title-bar">
		<div class="title-bar-text">#conspiracy</div>

		<div class="title-bar-controls">
			<button aria-label="Minimize" 
					class="click"
					id="min" 
					onclick="minimizeWindow.call(this)"></button>

			<button aria-label="Maximize" 
					class="click"
					id="max" 
					onclick="minimizeWindow.call(this)"></button>

			<button aria-label="Close"></button>
		</div>
	</div>

	<div class="window-body">
		<div class="container">
			<div class="message-area">
				<div class="server-announcement message">
					<p class="message-text">
						* Now talking in #conspiracy
					</p>
				</div>

				<div class="message server-announcement">
					<p class="message-text">
						* Topic is '<font color="blue">Shhh... very secret, all encryptions on, warp engines at full, etc etc</font>'
					</p>
				</div>
				<div class="server-announcement message">
					<p class="message-text">
						* Set by WH^SomeHugeUserString. Seen on Fri. Jul 30 12:29:37
					</p>
				</div>
			</div>

			<div class="member-list">
				<b>@WH</b><br>
				<b>@bot</b><br>
				JD<br>
				PM<br>
				MS<br>
				<br><br><br><br><br><br><br>
			</div>
		</div>

		<div class="input">
			<p>i'm excited actually</p>
		</div>
	</div>
</div>

<!--------------------------------->

<div class="window" id="other-channel">
	<div class="title-bar">
		<div class="title-bar-text">#secret-channel</div>

		<div class="title-bar-controls">
			<button aria-label="Minimize" id="min"></button>
			<button aria-label="Maximize" id="max"></button>
			<button aria-label="Close"></button>
		</div>
	</div>

	<div class="window-body">
		<div class="container">
			<div class="message-area">
				<div class="server-announcement message">
					<p class="message-text">
						* Now talking in #admin
					</p>
				</div>

				<div class="message server-announcement">
					<p class="message-text">
						* Topic is ''
					</p>
				</div>

				<div class="message">
					<p class="message-text">
						&lt;WH&gt; !record #conspiracy
					</p>
				</div>
				<div class="message">
					<p class="message-text me">
						* bot recording channel #conspiracy, !stop command will end recording.
					</p>
				</div>
			</div>

			<div class="member-list">
				<b>@WH</b><br>
				<b>@bot</b>
				<br><br><br><br><br><br><br>
			</div>
		</div>

		<div class="input">
			<p>!stop</p>
		</div>
	</div>
</div>
</body>
</html>